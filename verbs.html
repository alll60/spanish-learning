<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordMatch - Verb Conjugations</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f97316 0%, #ef4444 100%);
            min-height: 100vh;
            color: white;
            padding: 16px;
        }
        .container { max-width: 600px; margin: 0 auto; }
        h1 { text-align: center; font-size: 40px; margin: 20px 0 10px; font-weight: 900; }
        .subtitle { text-align: center; opacity: 0.9; margin-bottom: 30px; }
        .tense-grid { display: grid; gap: 16px; margin: 20px 0; }
        .tense-btn {
            padding: 24px;
            border: none;
            border-radius: 16px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            text-align: left;
            background: rgba(255,255,255,0.9);
            color: #1f2937;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .tense-btn:active { transform: scale(0.95); }
        .word-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
        .word-column { display: flex; flex-direction: column; gap: 12px; }
        .word-btn {
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            word-wrap: break-word;
            line-height: 1.3;
            transition: opacity 0.2s;
        }
        .word-btn:active { opacity: 0.8; }
        .blue { background: #3b82f6; color: white; }
        .purple { background: #8b5cf6; color: white; }
        .blue.selected, .purple.selected { opacity: 0.6; }
        .blue.matched { background: #93c5fd; color: #1e3a8a; opacity: 0.5; }
        .purple.matched { background: #c4b5fd; color: #5b21b6; opacity: 0.5; }
        .header {
            background: white;
            color: #1f2937;
            padding: 16px;
            border-radius: 16px;
            margin-bottom: 16px;
        }
        .stats { display: flex; gap: 8px; margin-top: 12px; }
        .stat {
            flex: 1;
            background: #f3f4f6;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 11px;
        }
        .stat-value { font-size: 18px; font-weight: bold; color: #f97316; }
        .controls { display: flex; gap: 12px; margin-top: 16px; }
        .control-btn {
            flex: 1;
            padding: 14px;
            background: white;
            color: #1f2937;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
        }
        .back-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            margin-bottom: 16px;
            cursor: pointer;
            font-size: 14px;
        }
        .emoji { font-size: 32px; }
        .info { font-size: 12px; opacity: 0.8; margin-top: 4px; }
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 24px 48px;
            border-radius: 16px;
            font-size: 24px;
            font-weight: bold;
            z-index: 1000;
            animation: fadeInOut 0.6s;
        }
        .feedback.correct { background: #10b981; color: white; }
        .feedback.wrong { background: #ef4444; color: white; }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="app"></div>
    </div>
    <script>
const VERBS = {
    present: `I am|Yo soy,You are|T√∫ eres,He/She is|√âl/Ella es,We are|Nosotros somos,You are (pl)|Vosotros sois,They are|Ellos son,I am|Yo estoy,You are|T√∫ est√°s,He/She is|√âl/Ella est√°,We are|Nosotros estamos,You are (pl)|Vosotros est√°is,They are|Ellos est√°n,I have|Yo tengo,You have|T√∫ tienes,He/She has|√âl/Ella tiene,We have|Nosotros tenemos,You have (pl)|Vosotros ten√©is,They have|Ellos tienen,I do|Yo hago,You do|T√∫ haces,He/She does|√âl/Ella hace,We do|Nosotros hacemos,You do (pl)|Vosotros hac√©is,They do|Ellos hacen,I go|Yo voy,You go|T√∫ vas,He/She goes|√âl/Ella va,We go|Nosotros vamos,You go (pl)|Vosotros vais,They go|Ellos van,I can|Yo puedo,You can|T√∫ puedes,He/She can|√âl/Ella puede,We can|Nosotros podemos,You can (pl)|Vosotros pod√©is,They can|Ellos pueden,I say|Yo digo,You say|T√∫ dices,He/She says|√âl/Ella dice,We say|Nosotros decimos,You say (pl)|Vosotros dec√≠s,They say|Ellos dicen,I come|Yo vengo,You come|T√∫ vienes,He/She comes|√âl/Ella viene,We come|Nosotros venimos,You come (pl)|Vosotros ven√≠s,They come|Ellos vienen,I want|Yo quiero,You want|T√∫ quieres,He/She wants|√âl/Ella quiere,We want|Nosotros queremos,You want (pl)|Vosotros quer√©is,They want|Ellos quieren,I know|Yo s√©,You know|T√∫ sabes,He/She knows|√âl/Ella sabe,We know|Nosotros sabemos,You know (pl)|Vosotros sab√©is,They know|Ellos saben,I speak|Yo hablo,You speak|T√∫ hablas,He/She speaks|√âl/Ella habla,We speak|Nosotros hablamos,You speak (pl)|Vosotros habl√°is,They speak|Ellos hablan,I eat|Yo como,You eat|T√∫ comes,He/She eats|√âl/Ella come,We eat|Nosotros comemos,You eat (pl)|Vosotros com√©is,They eat|Ellos comen,I live|Yo vivo,You live|T√∫ vives,He/She lives|√âl/Ella vive,We live|Nosotros vivimos,You live (pl)|Vosotros viv√≠s,They live|Ellos viven`.split(','),
    
    preterite: `I was|Yo fui,You were|T√∫ fuiste,He/She was|√âl/Ella fue,We were|Nosotros fuimos,You were (pl)|Vosotros fuisteis,They were|Ellos fueron,I had|Yo tuve,You had|T√∫ tuviste,He/She had|√âl/Ella tuvo,We had|Nosotros tuvimos,You had (pl)|Vosotros tuvisteis,They had|Ellos tuvieron,I did|Yo hice,You did|T√∫ hiciste,He/She did|√âl/Ella hizo,We did|Nosotros hicimos,You did (pl)|Vosotros hicisteis,They did|Ellos hicieron,I went|Yo fui,You went|T√∫ fuiste,He/She went|√âl/Ella fue,We went|Nosotros fuimos,You went (pl)|Vosotros fuisteis,They went|Ellos fueron,I could|Yo pude,You could|T√∫ pudiste,He/She could|√âl/Ella pudo,We could|Nosotros pudimos,You could (pl)|Vosotros pudisteis,They could|Ellos pudieron,I said|Yo dije,You said|T√∫ dijiste,He/She said|√âl/Ella dijo,We said|Nosotros dijimos,You said (pl)|Vosotros dijisteis,They said|Ellos dijeron,I came|Yo vine,You came|T√∫ viniste,He/She came|√âl/Ella vino,We came|Nosotros vinimos,You came (pl)|Vosotros vinisteis,They came|Ellos vinieron,I wanted|Yo quise,You wanted|T√∫ quisiste,He/She wanted|√âl/Ella quiso,We wanted|Nosotros quisimos,You wanted (pl)|Vosotros quisisteis,They wanted|Ellos quisieron,I knew|Yo supe,You knew|T√∫ supiste,He/She knew|√âl/Ella supo,We knew|Nosotros supimos,You knew (pl)|Vosotros supisteis,They knew|Ellos supieron,I spoke|Yo habl√©,You spoke|T√∫ hablaste,He/She spoke|√âl/Ella habl√≥,We spoke|Nosotros hablamos,You spoke (pl)|Vosotros hablasteis,They spoke|Ellos hablaron,I ate|Yo com√≠,You ate|T√∫ comiste,He/She ate|√âl/Ella comi√≥,We ate|Nosotros comimos,You ate (pl)|Vosotros comisteis,They ate|Ellos comieron,I lived|Yo viv√≠,You lived|T√∫ viviste,He/She lived|√âl/Ella vivi√≥,We lived|Nosotros vivimos,You lived (pl)|Vosotros vivisteis,They lived|Ellos vivieron`.split(','),
    
    imperfect: `I was|Yo era,You were|T√∫ eras,He/She was|√âl/Ella era,We were|Nosotros √©ramos,You were (pl)|Vosotros erais,They were|Ellos eran,I was|Yo estaba,You were|T√∫ estabas,He/She was|√âl/Ella estaba,We were|Nosotros est√°bamos,You were (pl)|Vosotros estabais,They were|Ellos estaban,I had|Yo ten√≠a,You had|T√∫ ten√≠as,He/She had|√âl/Ella ten√≠a,We had|Nosotros ten√≠amos,You had (pl)|Vosotros ten√≠ais,They had|Ellos ten√≠an,I did|Yo hac√≠a,You did|T√∫ hac√≠as,He/She did|√âl/Ella hac√≠a,We did|Nosotros hac√≠amos,You did (pl)|Vosotros hac√≠ais,They did|Ellos hac√≠an,I went|Yo iba,You went|T√∫ ibas,He/She went|√âl/Ella iba,We went|Nosotros √≠bamos,You went (pl)|Vosotros ibais,They went|Ellos iban,I spoke|Yo hablaba,You spoke|T√∫ hablabas,He/She spoke|√âl/Ella hablaba,We spoke|Nosotros habl√°bamos,You spoke (pl)|Vosotros hablabais,They spoke|Ellos hablaban,I ate|Yo com√≠a,You ate|T√∫ com√≠as,He/She ate|√âl/Ella com√≠a,We ate|Nosotros com√≠amos,You ate (pl)|Vosotros com√≠ais,They ate|Ellos com√≠an,I lived|Yo viv√≠a,You lived|T√∫ viv√≠as,He/She lived|√âl/Ella viv√≠a,We lived|Nosotros viv√≠amos,You lived (pl)|Vosotros viv√≠ais,They lived|Ellos viv√≠an`.split(','),
    
    future: `I will be|Yo ser√©,You will be|T√∫ ser√°s,He/She will be|√âl/Ella ser√°,We will be|Nosotros seremos,You will be (pl)|Vosotros ser√©is,They will be|Ellos ser√°n,I will be|Yo estar√©,You will be|T√∫ estar√°s,He/She will be|√âl/Ella estar√°,We will be|Nosotros estaremos,You will be (pl)|Vosotros estar√©is,They will be|Ellos estar√°n,I will have|Yo tendr√©,You will have|T√∫ tendr√°s,He/She will have|√âl/Ella tendr√°,We will have|Nosotros tendremos,You will have (pl)|Vosotros tendr√©is,They will have|Ellos tendr√°n,I will do|Yo har√©,You will do|T√∫ har√°s,He/She will do|√âl/Ella har√°,We will do|Nosotros haremos,You will do (pl)|Vosotros har√©is,They will do|Ellos har√°n,I will go|Yo ir√©,You will go|T√∫ ir√°s,He/She will go|√âl/Ella ir√°,We will go|Nosotros iremos,You will go (pl)|Vosotros ir√©is,They will go|Ellos ir√°n,I will be able|Yo podr√©,You will be able|T√∫ podr√°s,He/She will be able|√âl/Ella podr√°,We will be able|Nosotros podremos,You will be able (pl)|Vosotros podr√©is,They will be able|Ellos podr√°n,I will say|Yo dir√©,You will say|T√∫ dir√°s,He/She will say|√âl/Ella dir√°,We will say|Nosotros diremos,You will say (pl)|Vosotros dir√©is,They will say|Ellos dir√°n,I will come|Yo vendr√©,You will come|T√∫ vendr√°s,He/She will come|√âl/Ella vendr√°,We will come|Nosotros vendremos,You will come (pl)|Vosotros vendr√©is,They will come|Ellos vendr√°n,I will want|Yo querr√©,You will want|T√∫ querr√°s,He/She will want|√âl/Ella querr√°,We will want|Nosotros querremos,You will want (pl)|Vosotros querr√©is,They will want|Ellos querr√°n,I will know|Yo sabr√©,You will know|T√∫ sabr√°s,He/She will know|√âl/Ella sabr√°,We will know|Nosotros sabremos,You will know (pl)|Vosotros sabr√©is,They will know|Ellos sabr√°n,I will speak|Yo hablar√©,You will speak|T√∫ hablar√°s,He/She will speak|√âl/Ella hablar√°,We will speak|Nosotros hablaremos,You will speak (pl)|Vosotros hablar√©is,They will speak|Ellos hablar√°n,I will eat|Yo comer√©,You will eat|T√∫ comer√°s,He/She will eat|√âl/Ella comer√°,We will eat|Nosotros comeremos,You will eat (pl)|Vosotros comer√©is,They will eat|Ellos comer√°n,I will live|Yo vivir√©,You will live|T√∫ vivir√°s,He/She will live|√âl/Ella vivir√°,We will live|Nosotros viviremos,You will live (pl)|Vosotros vivir√©is,They will live|Ellos vivir√°n`.split(',')
};

const TENSES = [
    { key: 'present', name: 'Present', emoji: 'üìù', info: '90+ conjugations' },
    { key: 'preterite', name: 'Preterite', emoji: '‚èÆÔ∏è', info: '70+ conjugations' },
    { key: 'imperfect', name: 'Imperfect', emoji: 'üîÑ', info: '50+ conjugations' },
    { key: 'future', name: 'Future', emoji: 'üîÆ', info: '70+ conjugations' }
];

function parseVerbs(str) {
    return str.map(pair => {
        const [e, s] = pair.split('|');
        return { e, s };
    });
}

let state = {
    tense: '',
    score: 0,
    matched: 0,
    streak: 0,
    round: 0,
    selected: [],
    matchedIds: [],
    currentPairs: [],
    used: new Set()
};

function shuffle(arr) {
    return [...arr].sort(() => Math.random() - 0.5);
}

function showFeedback(isCorrect) {
    const feedback = document.createElement('div');
    feedback.className = `feedback ${isCorrect ? 'correct' : 'wrong'}`;
    feedback.textContent = isCorrect ? 'Perfect! ‚úì' : 'Wrong! ‚úó';
    document.body.appendChild(feedback);
    setTimeout(() => feedback.remove(), 600);
}

function startGame(tense) {
    state.tense = tense;
    state.score = 0;
    state.matched = 0;
    state.streak = 0;
    state.round = 0;
    state.used = new Set();
    nextRound();
}

function nextRound() {
    state.selected = [];
    state.matchedIds = [];
    state.round++;
    
    const allVerbs = parseVerbs(VERBS[state.tense]);
    const available = allVerbs.filter((_, i) => !state.used.has(i));
    
    if (available.length < 5) {
        state.used = new Set();
    }
    
    const pairs = [];
    const used = new Set(state.used);
    
    while (pairs.length < 5 && pairs.length < allVerbs.length) {
        const idx = Math.floor(Math.random() * allVerbs.length);
        if (!used.has(idx)) {
            pairs.push({ ...allVerbs[idx], id: pairs.length });
            used.add(idx);
        }
    }
    
    state.used = used;
    state.currentPairs = pairs;
    renderGame();
}

function renderTenseSelect() {
    const app = document.getElementById('app');
    app.innerHTML = `
        <h1>‚ö° Verb Conjugations</h1>
        <p class="subtitle">Choose a tense</p>
        <div class="tense-grid">
            ${TENSES.map(t => `
                <button class="tense-btn" onclick="startGame('${t.key}')">
                    <div>
                        <div style="font-size: 22px; font-weight: 900;">${t.name}</div>
                        <div class="info">${t.info}</div>
                    </div>
                    <div class="emoji">${t.emoji}</div>
                </button>
            `).join('')}
        </div>
    `;
}

function renderGame() {
    const english = shuffle(state.currentPairs.map(p => ({...p, side: 'en'})));
    const spanish = shuffle(state.currentPairs.map(p => ({...p, side: 'es'})));
    const tenseName = TENSES.find(t => t.key === state.tense).name;
    
    document.getElementById('app').innerHTML = `
        <button class="back-btn" onclick="renderTenseSelect()">‚Üê Change Tense</button>
        
        <div class="header">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <div>
                    <h2 style="margin: 0; font-size: 20px;">Verb Conjugations</h2>
                    <div style="font-size: 12px; opacity: 0.7;">${tenseName}</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 28px; font-weight: 900; color: #f97316;">${state.score}</div>
                    <div style="font-size: 11px; opacity: 0.7;">points</div>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">${state.matched}</div>
                    <div>Matched</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.streak}</div>
                    <div>Streak</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.round}</div>
                    <div>Round</div>
                </div>
            </div>
        </div>
        
        <div class="word-grid">
            <div class="word-column">
                ${english.map(w => `
                    <button 
                        class="word-btn blue ${state.selected.includes('en'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('en${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.e}
                    </button>
                `).join('')}
            </div>
            <div class="word-column">
                ${spanish.map(w => `
                    <button 
                        class="word-btn purple ${state.selected.includes('es'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('es${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.s}
                    </button>
                `).join('')}
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="nextRound()">New Verbs</button>
            <button class="control-btn" onclick="renderTenseSelect()">Reset</button>
        </div>
    `;
}

function selectWord(wordId, pairId) {
    if (state.selected.includes(wordId) || state.matchedIds.includes(pairId)) return;
    
    state.selected.push(wordId);
    
    const btn = document.querySelector(`button[onclick="selectWord('${wordId}', ${pairId})"]`);
    if (btn) btn.classList.add('selected');
    
    if (state.selected.length === 2) {
        const id1 = parseInt(state.selected[0].slice(2));
        const id2 = parseInt(state.selected[1].slice(2));
        
        if (id1 === id2) {
            showFeedback(true);
            state.matchedIds.push(pairId);
            state.score += 15;
            state.matched += 1;
            state.streak += 1;
            
            state.selected.forEach(id => {
                const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                if (b) {
                    b.classList.remove('selected');
                    b.classList.add('matched');
                    b.disabled = true;
                }
            });
            
            setTimeout(() => {
                state.selected = [];
                if (state.matchedIds.length === 5) {
                    setTimeout(nextRound, 500);
                }
            }, 600);
        } else {
            showFeedback(false);
            state.streak = 0;
            setTimeout(() => {
                state.selected.forEach(id => {
                    const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                    if (b) b.classList.remove('selected');
                });
                state.selected = [];
            }, 600);
        }
    }
}

renderTenseSelect();
    </script>
</body>
</html>
