<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordMatch - Pronoun Practice</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
            min-height: 100vh;
            color: white;
            padding: 16px;
        }
        .container { max-width: 600px; margin: 0 auto; }
        h1 { text-align: center; font-size: 40px; margin: 20px 0 10px; font-weight: 900; }
        .subtitle { text-align: center; opacity: 0.9; margin-bottom: 30px; }
        .verb-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
        .verb-btn {
            padding: 20px 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            text-align: center;
            background: rgba(255,255,255,0.9);
            color: #1f2937;
        }
        .verb-btn:active { transform: scale(0.95); }
        .word-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
        .word-column { display: flex; flex-direction: column; gap: 12px; }
        .word-btn {
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            word-wrap: break-word;
            line-height: 1.3;
            transition: opacity 0.2s;
        }
        .word-btn:active { opacity: 0.8; }
        .blue { background: #3b82f6; color: white; }
        .purple { background: #8b5cf6; color: white; }
        .blue.selected, .purple.selected { opacity: 0.6; }
        .blue.matched { background: #93c5fd; color: #1e3a8a; opacity: 0.5; }
        .purple.matched { background: #c4b5fd; color: #5b21b6; opacity: 0.5; }
        .header {
            background: white;
            color: #1f2937;
            padding: 16px;
            border-radius: 16px;
            margin-bottom: 16px;
        }
        .stats { display: flex; gap: 8px; margin-top: 12px; }
        .stat {
            flex: 1;
            background: #f3f4f6;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 11px;
        }
        .stat-value { font-size: 18px; font-weight: bold; color: #8b5cf6; }
        .controls { display: flex; gap: 12px; margin-top: 16px; }
        .control-btn {
            flex: 1;
            padding: 14px;
            background: white;
            color: #1f2937;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
        }
        .back-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            margin-bottom: 16px;
            cursor: pointer;
            font-size: 14px;
        }
        .emoji { font-size: 28px; margin-bottom: 6px; }
        .info { font-size: 12px; opacity: 0.8; margin-top: 4px; }
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 24px 48px;
            border-radius: 16px;
            font-size: 24px;
            font-weight: bold;
            z-index: 1000;
            animation: fadeInOut 0.6s;
        }
        .feedback.correct { background: #10b981; color: white; }
        .feedback.wrong { background: #ef4444; color: white; }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="app"></div>
    </div>
    <script>
// All Spanish to Spanish - match pronouns with conjugated forms
const PRONOUN_VERBS = {
    ser: `Yo|Soy,T√∫|Eres,√âl/Ella|Es,Nosotros|Somos,Vosotros|Sois,Ellos|Son`.split(','),
    estar: `Yo|Estoy,T√∫|Est√°s,√âl/Ella|Est√°,Nosotros|Estamos,Vosotros|Est√°is,Ellos|Est√°n`.split(','),
    tener: `Yo|Tengo,T√∫|Tienes,√âl/Ella|Tiene,Nosotros|Tenemos,Vosotros|Ten√©is,Ellos|Tienen`.split(','),
    hacer: `Yo|Hago,T√∫|Haces,√âl/Ella|Hace,Nosotros|Hacemos,Vosotros|Hac√©is,Ellos|Hacen`.split(','),
    ir: `Yo|Voy,T√∫|Vas,√âl/Ella|Va,Nosotros|Vamos,Vosotros|Vais,Ellos|Van`.split(','),
    poder: `Yo|Puedo,T√∫|Puedes,√âl/Ella|Puede,Nosotros|Podemos,Vosotros|Pod√©is,Ellos|Pueden`.split(','),
    decir: `Yo|Digo,T√∫|Dices,√âl/Ella|Dice,Nosotros|Decimos,Vosotros|Dec√≠s,Ellos|Dicen`.split(','),
    venir: `Yo|Vengo,T√∫|Vienes,√âl/Ella|Viene,Nosotros|Venimos,Vosotros|Ven√≠s,Ellos|Vienen`.split(','),
    querer: `Yo|Quiero,T√∫|Quieres,√âl/Ella|Quiere,Nosotros|Queremos,Vosotros|Quer√©is,Ellos|Quieren`.split(','),
    saber: `Yo|S√©,T√∫|Sabes,√âl/Ella|Sabe,Nosotros|Sabemos,Vosotros|Sab√©is,Ellos|Saben`.split(','),
    hablar: `Yo|Hablo,T√∫|Hablas,√âl/Ella|Habla,Nosotros|Hablamos,Vosotros|Habl√°is,Ellos|Hablan`.split(','),
    comer: `Yo|Como,T√∫|Comes,√âl/Ella|Come,Nosotros|Comemos,Vosotros|Com√©is,Ellos|Comen`.split(','),
    vivir: `Yo|Vivo,T√∫|Vives,√âl/Ella|Vive,Nosotros|Vivimos,Vosotros|Viv√≠s,Ellos|Viven`.split(','),
    dar: `Yo|Doy,T√∫|Das,√âl/Ella|Da,Nosotros|Damos,Vosotros|Dais,Ellos|Dan`.split(','),
    ver: `Yo|Veo,T√∫|Ves,√âl/Ella|Ve,Nosotros|Vemos,Vosotros|Veis,Ellos|Ven`.split(','),
};

const VERBS = [
    { key: 'ser', name: 'Ser', meaning: '(to be)', emoji: 'üîµ' },
    { key: 'estar', name: 'Estar', meaning: '(to be)', emoji: 'üìç' },
    { key: 'tener', name: 'Tener', meaning: '(to have)', emoji: 'ü§ù' },
    { key: 'hacer', name: 'Hacer', meaning: '(to do)', emoji: '‚ö°' },
    { key: 'ir', name: 'Ir', meaning: '(to go)', emoji: 'üö∂' },
    { key: 'poder', name: 'Poder', meaning: '(can)', emoji: 'üí™' },
    { key: 'decir', name: 'Decir', meaning: '(to say)', emoji: 'üí¨' },
    { key: 'venir', name: 'Venir', meaning: '(to come)', emoji: 'üëã' },
    { key: 'querer', name: 'Querer', meaning: '(to want)', emoji: '‚ù§Ô∏è' },
    { key: 'saber', name: 'Saber', meaning: '(to know)', emoji: 'üß†' },
    { key: 'hablar', name: 'Hablar', meaning: '(to speak)', emoji: 'üó£Ô∏è' },
    { key: 'comer', name: 'Comer', meaning: '(to eat)', emoji: 'üçΩÔ∏è' },
    { key: 'vivir', name: 'Vivir', meaning: '(to live)', emoji: 'üè†' },
    { key: 'dar', name: 'Dar', meaning: '(to give)', emoji: 'üéÅ' },
    { key: 'ver', name: 'Ver', meaning: '(to see)', emoji: 'üëÅÔ∏è' },
];

function parsePairs(str) {
    return str.map(pair => {
        const [p, v] = pair.split('|');
        return { p, v };
    });
}

let state = {
    verb: '',
    score: 0,
    matched: 0,
    streak: 0,
    round: 0,
    selected: [],
    matchedIds: []
};

function shuffle(arr) {
    return [...arr].sort(() => Math.random() - 0.5);
}

function showFeedback(isCorrect) {
    const feedback = document.createElement('div');
    feedback.className = `feedback ${isCorrect ? 'correct' : 'wrong'}`;
    feedback.textContent = isCorrect ? 'Perfect! ‚úì' : 'Wrong! ‚úó';
    document.body.appendChild(feedback);
    setTimeout(() => feedback.remove(), 600);
}

function startGame(verb) {
    state.verb = verb;
    state.score = 0;
    state.matched = 0;
    state.streak = 0;
    state.round = 1;
    state.selected = [];
    state.matchedIds = [];
    renderGame();
}

function renderVerbSelect() {
    const app = document.getElementById('app');
    app.innerHTML = `
        <h1>üë§ Pronoun Practice</h1>
        <p class="subtitle">Choose a verb (Spanish only)</p>
        <div class="verb-grid">
            ${VERBS.map(v => `
                <button class="verb-btn" onclick="startGame('${v.key}')">
                    <div class="emoji">${v.emoji}</div>
                    <div style="font-size: 16px;">${v.name}</div>
                    <div class="info">${v.meaning}</div>
                </button>
            `).join('')}
        </div>
    `;
}

function renderGame() {
    const pairs = parsePairs(PRONOUN_VERBS[state.verb]).map((p, i) => ({ ...p, id: i }));
    const pronouns = shuffle(pairs.map(p => ({...p, side: 'p'})));
    const verbs = shuffle(pairs.map(p => ({...p, side: 'v'})));
    const verbName = VERBS.find(v => v.key === state.verb).name;
    
    document.getElementById('app').innerHTML = `
        <button class="back-btn" onclick="renderVerbSelect()">‚Üê Change Verb</button>
        
        <div class="header">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <div>
                    <h2 style="margin: 0; font-size: 20px;">Pronoun Practice</h2>
                    <div style="font-size: 12px; opacity: 0.7;">${verbName}</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 28px; font-weight: 900; color: #8b5cf6;">${state.score}</div>
                    <div style="font-size: 11px; opacity: 0.7;">points</div>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">${state.matched}</div>
                    <div>Matched</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.streak}</div>
                    <div>Streak</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.round}</div>
                    <div>Round</div>
                </div>
            </div>
        </div>
        
        <div class="word-grid">
            <div class="word-column">
                ${pronouns.map(w => `
                    <button 
                        class="word-btn blue ${state.selected.includes('p'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('p${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.p}
                    </button>
                `).join('')}
            </div>
            <div class="word-column">
                ${verbs.map(w => `
                    <button 
                        class="word-btn purple ${state.selected.includes('v'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('v${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.v}
                    </button>
                `).join('')}
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="startGame('${state.verb}')">Shuffle</button>
            <button class="control-btn" onclick="renderVerbSelect()">New Verb</button>
        </div>
    `;
}

function selectWord(wordId, pairId) {
    if (state.selected.includes(wordId) || state.matchedIds.includes(pairId)) return;
    
    state.selected.push(wordId);
    
    const btn = document.querySelector(`button[onclick="selectWord('${wordId}', ${pairId})"]`);
    if (btn) btn.classList.add('selected');
    
    if (state.selected.length === 2) {
        const id1 = parseInt(state.selected[0].slice(1));
        const id2 = parseInt(state.selected[1].slice(1));
        
        if (id1 === id2) {
            showFeedback(true);
            state.matchedIds.push(pairId);
            state.score += 18;
            state.matched += 1;
            state.streak += 1;
            
            state.selected.forEach(id => {
                const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                if (b) {
                    b.classList.remove('selected');
                    b.classList.add('matched');
                    b.disabled = true;
                }
            });
            
            setTimeout(() => {
                state.selected = [];
                if (state.matchedIds.length === 6) {
                    state.round++;
                    setTimeout(() => startGame(state.verb), 500);
                }
            }, 600);
        } else {
            showFeedback(false);
            state.streak = 0;
            setTimeout(() => {
                state.selected.forEach(id => {
                    const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                    if (b) b.classList.remove('selected');
                });
                state.selected = [];
            }, 600);
        }
    }
}

renderVerbSelect();
    </script>
</body>
</html>
